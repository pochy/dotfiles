# ~/.config/alacritty/alacritty.toml
# TOMLの仕様: TOMLでは、16進数を直接表す \x は使えず、Unicodeエスケープである \u001b を使うのが正解です。
# 制御文字の表現:
# \x1b (Escape) → \u001b
# \r (Carriage Return) → これはTOMLでもサポートされているためそのままで問題ありません。
[general]
# ライブリロード（保存したら即反映、超便利）
live_config_reload = true

# もしくは外部テーマをimport（おすすめ）
# import = ["~/.config/alacritty/themes/catppuccin-mocha.toml"]
import = [
  # uncomment the flavour you want below:
  # "~/.config/alacritty/catppuccin-latte.toml"
  # "~/.config/alacritty/catppuccin-frappe.toml"
  # "~/.config/alacritty/catppuccin-macchiato.toml"
  "~/.config/alacritty/catppuccin-mocha.toml",
  # 個別環境用（存在しなければスキップ。.zshrc.local と同様の運用）
  "~/.config/alacritty/alacritty.local.toml"
]

# ウィンドウ設定
[window]
dimensions.columns = 140            # 横幅（好みで調整）
dimensions.lines   = 40             # 縦幅
padding.x = 12                      # 左右余白
padding.y = 12                      # 上下余白
decorations = "Buttonless"   # macOSでタイトルバー非表示にしたい場合 "Full" / "None"
# blur = true
opacity   = 1             # 半透明（0.0〜1.0）
startup_mode = "Windowed"    # "Fullscreen" も可
dynamic_title = true                # タイトルを動的に変更
option_as_alt = "Both" # OptionキーをAltとしてtmux/Neovimで使える（macOS特有の悩み解消）
dynamic_padding = true # ウィンドウサイズが変わってもpaddingを調整

[scrolling]
history = 15000                     # スクロールバックバッファ（多め推奨）

# フォント（Nerd Font推奨）
[font]
normal.family    = "Hackgen Console NF"
normal.style     = "Regular"
bold.family      = "Hackgen Console NF"
bold.style       = "Bold"
italic.family    = "Hackgen Console NF"
italic.style     = "Italic"
size             = 14.0

# 修正後（現在の正しい書き方）
[font.glyph_offset]
x = 0
y = 0               # 日本語の縦位置が少し下がり気味なら y = 1 〜 2 で調整


# カーソル
[cursor]
style.shape = "Beam"          # Block / Beam / Underline
style.blinking = "On"         # Off / On / Always
thickness = 0.15                    # Beamの太さ（細めがきれい）
# unfocused_hollow = true             # 非フォーカス時は空洞カーソル
unfocused_hollow = false  # 非アクティブ時に塗りつぶしカーソル（視認性↑）

[mouse]
hide_when_typing = true             # 入力中マウス非表示（便利）

[selection]
save_to_clipboard = true # これがtrueなら選択したら即クリップボードへ（デフォルトtrue）

[bell]
animation = "EaseOutExpo"           # ベルアニメーション
duration  = 0                       # ベル音オフ（静かにしたい場合）

# シェル（デフォルトshellを使いたい場合は省略可）
[terminal.shell]
program = "/bin/zsh"          # または /bin/bash, /usr/bin/fish など
# args = ["--login"]          # 必要に応じて

# 色テーマ（Catppuccin Mocha の例。別ファイルimportが便利）
[colors.primary]
# background = "#1e1e2e"
# foreground = "#cdd6f4"

[terminal]

[env]
# TERM = "alacritty"
# alacrittyは独自のterminfoを持っており、拡張キー機能をサポートしています
# tmux内では自動的にtmux-256colorに設定されます

[[keyboard.bindings]]
key = "Equals"
mods = "Command"
action = "IncreaseFontSize"

[[keyboard.bindings]]
key = "Minus"
mods = "Command"
action = "DecreaseFontSize"

[[keyboard.bindings]]
key = "0"
mods = "Command"
action = "ResetFontSize"

# フルスクリーンの切り替え (Cmd + Ctrl + F) ※macOS標準に近い挙動
[[keyboard.bindings]]
key = "F"
mods = "Command|Control"
action = "ToggleSimpleFullscreen"

# 最大化の切り替え (Cmd + Ctrl + M)
[[keyboard.bindings]]
key = "M"
mods = "Command|Control"
action = "ToggleMaximized"

# Shift+Enter で改行コードを送信（weztermと同じ設定）
[[keyboard.bindings]]
key = "Return"
mods = "Shift"
chars = "\u001b\r"  # \x1b を \u001b に変更
